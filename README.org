#+title: Seatsurfing Booking

This script is helping to ensure having a permanent desk in a location where all
desks are bookable. It is intended to be run in background indefinitely having
previously collected the two required tokens from the browser.


** Example
#+begin_src shell
GITLAB_USER=...
GITLAB_PASSWORD=...
GITLAB_OTP_SECRET=...

python script.py -u 'https://seatsurfing.dundermifflin.com' -l 'The Office, 1st Floor' -s 'Michael Desk'
#+end_src

** Limitations
- Only works with Gitlab 2FA oauth (but easy to customize).
- The session token is refreshed every scan, but maybe server prevents it after
  a long time being alive.

** Usage

#+begin_src
usage: script.py [-h] -u url -l name -s name [-o id] [-d days] [-i seconds] [-v]

Register seatsurfing space inside a location for consecutive days.

optional arguments:
  -h, --help     show this help message and exit
  -u url         seatsurfing URL
  -l name        location containing spaces
  -s name        space to register
  -o id          oauth ID if website is hosting multiple org
  -d days        following days to register (default 7 days)
  -i seconds     interval in seconds between checks (default 3m, must be <5m to avoid losing token)
  -v, --verbose  print debug
#+end_src
